<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Spanish-Quizzer</title>
        <meta name="description" content="Quiz yourself on Spanish vocabulary and conjugations through a free and highly customizable web interface.">
        <meta name="viewport" content="width=device-width, user-scalable=no"/>
        <link rel="icon" type="image/png" href="Images/favicon-32.png">
        <link rel="apple-touch-icon" sizes="180x180" href="Images/apple-touch-icon.png">
        <link rel="stylesheet" href="Styles/Global.css">
        <link rel="stylesheet" href="Styles/Home.css">
        <link rel="stylesheet" href="Styles/Settings.css">
        <link rel="stylesheet" href="Styles/Quizzer.css">
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
        <script src="https://unpkg.com/papaparse@5.1.1/papaparse.min.js"></script>
        <script src="Scripts/Home.js"></script>
        <script src="Scripts/Settings.js"></script>
        <script src="Scripts/Quizzer.js"></script>
    </head>

    <body onload="Load();">
        <div id="app">
            <header @click="Back();">Spanish-Quizzer</header>

            <main>
                <noscript>
                    <h1 id="jsError">You must have JavaScript enabled to run Spanish-Quizzer.</h1>
                </noscript>
    
                <div id="home" v-show="state == 'home'" hidden>
                    <h1>What do you want to study?</h1>
        
                    <div>
                        <button @click="state = 'verbSettings';">Conjugations</button>
                        <button @click="state = 'vocabSettings';">Vocab</button>
                    </div>
            
                    <div>
                        <a href="reference.html">Or look something up in the Reference Tables</a>
                    </div>
                </div>
        
        
                <div id="settings" v-show="state == 'verbSettings' || state == 'vocabSettings'" hidden>
                    <div id="verbSettings" v-show="state == 'verbSettings'">
                        <h1>Choose your settings and then click start.</h1>
            
                        <h2>
                            Verb Filters
                            <button @click="AddVerbFilter();">Add Filter</button>
                        </h2>
            
                        <div id="verbFilters">
                            <div v-for="(filter, index) in verbFilters" class="verbFilter">
                                <select v-model="filter.tense">
                                    <option>All Tenses</option>
                                    <option>Present Participles</option>
                                    <option>Present Tense</option>
                                    <option>Preterite Tense</option>
                                    <option>Imperfect Tense</option>
                                </select>
                                <select v-model="filter.type">
                                    <option v-for="(available, type) in getTenseTypes(index)" :disabled="!available">{{ type }}</option>
                                </select>
                                <button class="itemRemove" @click="RemoveVerbFilter(index);">╳</button>
                            </div>
                        </div>
                    </div>
        
        
                    <div id="vocabSettings" v-show="state == 'vocabSettings'">
                        <h1>Choose your settings and then click start.</h1>
            
                        <h2>
                            Vocabulary Sets
                            <button @click="AddVocabFilter();">Add set</button>
                        </h2>
            
                        <div id="vocabSets">
                            <div v-for="(filter, index) in vocabFilters" class="vocabSet">
                                <select class="vocabSetName" v-model="filter.set">
                                    <optgroup label="Common Words">
                                        <option>Verbs</option>
                                        <option>Adjectives</option>
                                        <option>Adverbs</option>
                                        <option>Prepositions</option>
                                        <option>Transitions</option>
                                    </optgroup>
                                    <optgroup label="Spanish 1">
                                        <option>Colors</option>
                                        <option>Days</option>
                                        <option>Months</option>
                                        <option>Questions</option>
                                        <option>Weather</option>
                                        <option>Family</option>
                                        <option>Clothes</option>
                                    </optgroup>
                                    <optgroup label="Spanish 2">
                                        <option>Nature</option>
                                        <option>House</option>
                                        <option>Vacation</option>
                                        <option>Childhood</option>
                                        <option>Professions</option>
                                        <option>Health</option>
                                    </optgroup>
                                </select>
                                <select class="vocabSetFilter" v-model="filter.type">
                                    <option v-for="type in getSetFilters(index)" >{{ type }}</option>
                                </select>
                                <button class="itemRemove" @click="RemoveVocabFilter(index);">╳</button>
                            </div>
                        </div>
                    </div>
        
        
                    <div id="quizzerSettings">
                        <h2>Quizzer Settings</h2>
        
                        <div>
                            <input type="checkbox" id="settingsDarkTheme" v-model="darkTheme">
                            <label for="settingsDarkTheme">Dark Mode</label>
                        </div>
                        <div>
                            <label for="settingsPromptType">Prompt type</label>
                            <select id="settingsPromptType" v-model="promptType">
                                <option>Text</option>
                                <option>Audio</option>
                                <option>Both</option>
                            </select>
                        </div>
                        <div>
                            <label for="settingsInputType">Input type</label>
                            <select id="settingsInputType" v-model="inputType">
                                <option>Text</option>
                                <option>Voice</option>
                                <option>Either</option>
                            </select>
                        </div>
                        <div>
                            <label for="settingsRepeatPrompts">Repeat missed prompts</label>
                            <select id="settingsRepeatPrompts" v-model="repeatPrompts">
                                <option>Never</option>
                                <option>Immediately</option>
                                <option>5 prompts later</option>
                                <option>At the end</option>
                            </select>
                        </div>
        
                        <div id="settingButtons">
                            <button id="settingsStart" onclick="CreateSession();">Start</button>
                            <button id="settingsResume" onclick="ResumeSession();">Resume</button>
                        </div>
                        
                        <div id="settingsError" v-show="errorMsg" class="centered bad">{{ errorMsg }}</div>
                    </div>
                </div>
        
        
                <quizzer id="quizzer" v-show="state == 'verbQuizzer' || state == 'vocabQuizzer'" :active="state == 'verbQuizzer' || state == 'vocabQuizzer'" hidden
                    :starting-index="promptIndex" :starting-prompts="prompts" @new-prompt="updateProgress"
                    :prompt-type="promptType" :input-type="inputType" :repeat-prompts="repeatPrompts">
                </quizzer>
            </main>
    
    
            <footer hidden>
                <div id="share" hidden>
                    <a href="mailto:?Subject=Spanish-Quizzer&amp;Body=https://ashermorgan.github.io/Spanish-Quizzer">Email</a>&nbsp;
                    <a rel="noopener" href="http://www.facebook.com/sharer.php?u=https://ashermorgan.github.io/Spanish-Quizzer" target="_blank">Facebook</a>&nbsp;
                    <a rel="noopener" href="https://twitter.com/share?url=https://ashermorgan.github.io/Spanish-Quizzer&amp;text=Spanish-Quizzer" target="_blank">Twitter</a>&nbsp;
                    <a rel="noopener" href="http://reddit.com/submit?url=https://ashermorgan.github.io/Spanish-Quizzer&amp;title=Spanish-Quizzer" target="_blank">Reddit</a>&nbsp;
                    <a id="shareSMS" href="sms:&body=https://ashermorgan.github.io/Spanish-Quizzer" hidden>SMS</a>&nbsp;
                </div>
                <a href="javascript:document.getElementById('share').hidden = false; void 0;">Share</a>&nbsp;
            </footer>
        </div>
    </body>
</html>