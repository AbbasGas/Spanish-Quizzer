<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Spanish-Quizzer</title>
        <meta name="description" content="Quiz yourself on Spanish vocabulary and conjugations through a free and highly customizable web interface.">
        <meta name="viewport" content="width=device-width, user-scalable=no"/>
        <link rel="icon" type="image/png" href="images/favicon-32.png">
        <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
        <link rel="stylesheet" href="css/global.css">
        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/filterInput.css">
        <link rel="stylesheet" href="css/settingsInput.css">
        <link rel="stylesheet" href="css/quizzer.css">
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
        <script src="https://unpkg.com/papaparse@5.1.1/papaparse.min.js"></script>
        <script src="js/global.js"></script>
        <script src="js/app.js"></script>
        <script src="js/filterInput.js"></script>
        <script src="js/settingsInput.js"></script>
        <script src="js/filters.js"></script>
        <script src="js/quizzer.js"></script>
    </head>

    <body onload="Load();">
        <div id="app">
            <header @click="Back">
                <img id="backArrow" v-show="state != 'home'" src="images/arrow-left.svg"/>
                Spanish-Quizzer
            </header>

            <main>
                <noscript>
                    <div id="jsError">
                        <h1>You must have JavaScript enabled to run Spanish-Quizzer.</h1>
                        <p>Spanish-Quizzer uses JavaScript to load vocab, apply filters, and check your answers.</p>
                        <p>You can still view the <a href="data/">data sets</a>, but you can't use the Quizzer or the Reference Tables.</p>
                    </div>
                </noscript>

                <div id="home" v-show="state === 'home'" hidden>
                    <h1>What do you want to study?</h1>
                    <div>
                        <button @click="category = 'verbs'; state = 'settings';">Conjugations</button>
                        <button @click="category = 'vocab'; state = 'settings';">Vocab</button>
                    </div>
                    <div>
                        <a href="reference.html">Or look something up in the Reference Tables</a>
                    </div>
                </div>

                <div id="settings" v-show="state === 'settings'" hidden>
                    <filter-input :category="category" v-model="filters"></filter-input>

                    <settings-input v-model="settings"></settings-input>

                    <div class="settingButtons">
                        <button class="settingsStart" @click="CreateSession();">Start</button>
                        <button class="settingsResume" @click="ResumeSession();">Resume</button>
                    </div>
                </div>

                <quizzer id="quizzer" v-if="state === 'quizzer'"
                    :starting-index="promptIndex" :starting-prompts="prompts" :settings="settings"
                    @new-prompt="updateProgress" @finished-prompts="state = 'congrats';">
                </quizzer>

                <div id="congrats" v-show="state === 'congrats'" hidden>
                    <p>Congratulations, You finished all of the prompts!</p>
                    <button @click="Back">Continue</button>
                </div>
            </main>
        </div>
    </body>
</html>